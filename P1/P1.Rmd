---
title: "R Notebook"
output:
  html_document:
    df_print: paged
---

# Programadores profesionales

## Las diferencias en el aspecto educativo y laboral entre programadores de Estados Unidos y de América Latina en 2020

### Integrantes

-   Luis Berrospi *(lider)*

-   Bryan Castillo

-   Luis Robledo

-   Jorge Collazos

-   Nincol Quiroz

### Introducción

Son muchas las personas que se dedican profesionalmente a programar en todo el mundo. Sin embargo, las características de estas y el contexto en el que viven no son iguales. Tenemos la hipótesis de que el lugar de procedencia influye bastante en la situación tanto laboral como educativa de los programadores profesionales, por lo que decidimos realizar este análisis concentrándonos en lugares bastante distintos en desarrollo respecta, Latino América y Estados Unidos. Este estudio es importante porque lograremos observar si es que realmente existen estas diferencias. Además, si las hay, podremos identificar donde es que se encuentran para poder sugerir que es lo que una región esta haciendo mejor o peor que la otra y se pueda encontrar una solución al verdadero problema.

### Objetivos

Queremos responder las siguientes preguntas:

-   ¿Existen diferencias en el aspecto educativo y laboral entre programadores profesionales de América Latina y de Estados Unidos?

-   ¿Cual es el nivel de estas diferencias?¿Cuales son las más pronunciadas?

-   ¿Que variables no varían entre regiones?

### Marco teórico

-   **Población objetivo:** Personas que son o fueron programadores profesionales y son de América Latina o de Estados Unidos

-   **Unidades muestrales:** Programadores profesionales que usan constantemente el foro "Stack Overflow"

-   **Base de Datos:** La base de datos es el resultado de la Stack Overflow Developer Survey 2020, esta encuesta busca saber como es que aprenden, que herramientas usan y que y como se relacionan con el foro cualquier persona que sabe programar. La base de datos cuenta con cerca de 65000 observaciones totales y 61 variables, pero para este trabajo, delimitamos las observaciones según lo realmente necesitábamos.

    -   [Stack Overflow survey 2020 CSV y Cuestionario](https://insights.stackoverflow.com/survey/?_ga=2.142137586.1351526073.1621523165-1106211812.1621523165)

```{r echo=FALSE, paged.print=FALSE, results=FALSE}
library(readr)
library(dplyr)
library(countrycode)
library(ggplot2)
library(modeest)
#library(tidyverse)

df <- read_csv("survey_results_public.csv")
df <- df[!(df$Age == "1" &  !is.na(df$Age)),]
df <- df[!(df$Age == "10" &  !is.na(df$Age)),]
df <- df[!(df$Age == "99" &  !is.na(df$Age)),]
df <- df[!(df$WorkWeekHrs > 100 & !is.na(df$WorkWeekHrs)),]

```

Cargamos la base de datos original y limpiamos algunos datos que analizándolos eran claramente errores o datos inválidos.

```{r, warning=FALSE}
DFF <- select(df, MainBranch, Country,Gender,Age, YearsCode, YearsCodePro ,EdLevel,Employment, JobSat, OrgSize, WorkWeekHrs, NEWOvertime, NEWOnboardGood, JobSeek, NEWLearn, LanguageWorkedWith,PlatformWorkedWith)
DF_USA <- DFF[DFF$Country == "United States" & !is.na(DFF$Country) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][3:17]
DF_LC <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_LC <- DF_LC[DF_LC$region == "Latin America & Caribbean" & !is.na(DF_LC$region) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][, 4:18]
DF_MIX <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_MIX <- DF_MIX[((DF_MIX$region == "Latin America & Caribbean" & !is.na(DF_MIX$region)) | (DF_MIX$Country == "United States" & !is.na(DF_MIX$Country))) &  DF_MIX$MainBranch == "I am a developer by profession" & !is.na(DF_MIX$MainBranch), ][, 3:18]
DF_MIX$Country[DF_MIX$Country != "United States"] <- "América Latina"
DF_MIX$Country[DF_MIX$Country == "United States"] <- "Estados Unidos"
colnames(DF_MIX)[which(names(DF_MIX) == "Country")] <- "Region"
DF_MIX
```

Luego de eso, creamos creamos 3 *data frames* distintos. DF_USA y DF_LC con ambos 15 variables que consideramos importante para describir su situación educativa y laboral, el primero contiene los datos de los programadores profesionales de Estados Unidos, con 9454 observaciones, y el segundo de los de América Latina, con 3032 observaciones. Por ultimo el tercer *data frame* es DF_MIX en el que es la unión de los dos anteriores con una variable mas, "Región" para distinguirlos entre los que son de Estados Unidos y de América Latina, esto por simplicidad para realizar algunas operaciones en el futuro.

#### **Tabla Descriptores**

A continuaron se especifican las variables con las que trabajaremos y su tipo así como la pregunta que se realizó originalmente en la encuesta

+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| NomPregunta                                                                                                                                                                                                                                                                      | Variable                                                 | Tipo de Variable |
+==================================================================================================================================================================================================================================================================================+==========================================================+==================+
| Which of the following describe you, if any? Please check all that apply. If you prefer not to answer, you may leave this question blank.                                                                                                                                        | Genero                                                   | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| What is your age (in years)? If you prefer not to answer, you may leave this question blank.                                                                                                                                                                                     | Edad                                                     | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Including any education, how many years have you been coding in total?                                                                                                                                                                                                           | Años codeando                                            | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| NOT including education, how many years have you coded professionally (as a part of your work)?                                                                                                                                                                                  | Años codeando profesionalmente                           | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which of the following best describes the highest level of formal education that you've completed?                                                                                                                                                                               | Grado educativo                                          | Ordinal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which of the following best describes your current employment status?                                                                                                                                                                                                            | Tipo de empleo                                           | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which programming, scripting, and markup languages have you done extensive development work in over the past year, and which do you want to work in over the next year? (If you both worked with the language and want to continue to do so, please check both boxes in that row | Lenguajes con los que se trabajo                         | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| How frequently do you learn a new language or framework?                                                                                                                                                                                                                         | Frecuencia de aprendizaje de un nuevo lenguaje/framework | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which platforms have you done extensive development work in over the past year, and which do you want to work in over the next year? (If you both worked with the platform and want to continue to do so, please check both boxes in that row.)                                  | Plataformas con las que trabajo                          | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| how often do you work overtime or beyond the formal time expectation of your job?                                                                                                                                                                                                | Frecuencia de horas extra                                | Nomina           |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Do you think your company has a good onboarding process? (By onboarding, we mean the structured process of getting you settled in to your new role at a company)                                                                                                                 | Proceso de incorporación                                 | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which of the following best describes your current job-seeking status?                                                                                                                                                                                                           | Situación de empleo                                      | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| How satisfied are you with your current job? (If you work multiple jobs, answer for the one you spend the most hours on.)                                                                                                                                                        | Satisfacion laboral                                      | Ordinal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Approximately how many people are employed by the company or organization you currently work for?                                                                                                                                                                                | Cantidad de empleados                                    | Ordinal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| On average, how many hours per week do you work? Please enter a whole number in the box.                                                                                                                                                                                         | Horas de trabajo semanales                               | Continua         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+

### Análisis de variables

#### Genero

```{r}

temp = DF_USA$Gender[!is.na(DF_USA$Gender)]
gender_vec_USA <- vector()
gender_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    gender_vec_USA <- c(gender_vec_USA, sub_pal)
  }
}
temp = DF_LC$Gender[!is.na(DF_LC$Gender)]
gender_vec <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    gender_vec_LC <- c(gender_vec_LC, sub_pal)
  }
}

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(10, 1))
par(mai=rep(0.5, 4))

temp = table(gender_vec_USA)
man <- round(temp[1]/length(gender_vec_USA)*100,2)
other <- round(temp[2]/length(gender_vec_USA)*100,2)
woman <- round(temp[3]/length(gender_vec_USA)*100,2)
pie(table(gender_vec_USA), main = "Estados Unidos", labels = c(paste(man, "%", sep = ""), paste(other, "%", sep = ""), paste(woman, "%", sep = "")), col = c("skyblue","orange","red"))
temp = table(gender_vec_LC)

man <- round(temp[1]/length(gender_vec_LC)*100,2)
other <- round(temp[2]/length(gender_vec_LC)*100,2)
woman <- round(temp[3]/length(gender_vec_LC)*100,2)
pie(table(gender_vec_LC), main = "América Latina", labels = c(paste(man, "%", sep = ""), paste(other, "%", sep = ""), paste(woman, "%", sep = "")), col = c("skyblue","orange","red"))
par(mai=c(0,0,0,0))
plot.new()
legend(x="center", ncol=3,legend=c("Hombre","Otros","Mujer"),
       fill=c("skyblue","orange","red"))

```

En el gráfico podemos ver como si bien, la proporción de mujeres que se dedican en Estados Unidos es el doble que la proporción en América Latina, en ambas regiones la brecha de genero es bastante grande lo que significa que la gran mayoría de los programadores profesionales son hombres.

#### Edad

```{r, warning=FALSE}
boxplot(DF_MIX$Age~DF_MIX$Region, na.rm= T, xlab = "Edad", ylab = "Region", notch=TRUE, horizontal = TRUE)
abline(v=mean(DF_USA$Age, na.rm = TRUE), col = "red", lwd=2)
abline(v=mean(DF_LC$Age, na.rm = TRUE), col = "blue",lwd=2)
legend(60,1.7,legend=c("media EEUU", "Media Latam"),col=c("red", "blue"),lwd=2)
```

Podemos observar que las edades de los programadores profesionales están más concentradas en América Latina comparando los rangos intercuartílicos:

```{r}
IQR(DF_LC$Age, na.rm = TRUE)
IQR(DF_USA$Age, na.rm = TRUE)
```

Además, la edad promedio de los programadores profesionales de América Latina es de 30.14 mientras que el de Estados Unidos es de 34.33,

```{r}
round(mean(DF_LC$Age, na.rm = TRUE), 2)
round(mean(DF_USA$Age, na.rm = TRUE),2)
```

Junto con las medianas y la forma de las cajas podemos sugerir que en general, si bien, la diferencia de las medianas son estadísticamente significativas, no es mucha diferencia de edad entre los programadores profesionales de ambos países

```{r}
round(median(DF_LC$Age, na.rm = TRUE), 2)
round(median(DF_USA$Age, na.rm = TRUE),2)
```

#### Años Codeando

```{r, warning=FALSE}
boxplot(as.numeric(DF_MIX$YearsCode)~DF_MIX$Region, na.rm= TRUE, ylab = "Region", xlab = "Años Codeando", notch = TRUE, horizontal = TRUE)
abline(v=mean(as.numeric(DF_USA$YearsCode), na.rm = TRUE), col = "red")
abline(v=mean(as.numeric(DF_LC$YearsCode), na.rm = TRUE), col = "blue")
legend(25,1.7,legend=c("media EEUU", "media Latam"),col=c("red", "blue"),lwd=2)
```

En el diagrama de cajas y bigotes podemos ver como los programadores profesionales de Estados Unidos llevan mas años programando en total en comparación con los de América Latina. Sin embargo, esta diferencia es pequeña.

También, es importante destacar la gran diferencia de 6 años que existe entre el tercer cuartíl de ambas regiones. Esto implica que el 75% de los programadores profesionales de Estados Unidos cuentan a lo mucho con 22 años programando mientras que en América latina solo 16.

```{r, warning=FALSE}
round(quantile(as.numeric(DF_LC$YearsCode), na.rm = TRUE), 2)
round(quantile(as.numeric(DF_USA$YearsCode), na.rm = TRUE),2)
```

Por ultimo si comparamos la el coeficiente de variación, vemos que en ambas regiones la edad no varia mucho.

```{r, warning=FALSE}
round(sd(as.numeric(DF_USA$YearsCode), na.rm = TRUE)/mean(as.numeric(DF_USA$YearsCode), na.rm = TRUE),2)
round(sd(as.numeric(DF_LC$YearsCode), na.rm = TRUE)/mean(as.numeric(DF_LC$YearsCode), na.rm = TRUE), 2)
```

#### Años codeado profesionalmente

```{r, warning=FALSE}
boxplot(as.numeric(DF_MIX$YearsCodePro)~DF_MIX$Region, na.rm= TRUE, ylab = "Region", xlab = "Años Codeando Profesionalmente", notch = TRUE, horizontal = TRUE)
abline(v=mean(as.numeric(DF_USA$YearsCodePro), na.rm = TRUE), col = "red")
abline(v=mean(as.numeric(DF_LC$YearsCodePro), na.rm = TRUE), col = "blue")
legend(25,1.7,legend=c("media EEUU", "media Latam"),col=c("red", "blue"),lwd=2)
```

En este diagrama de cajas y bigotes se observa que los programadores de Estados Unidos tienen más años programando profesionalmente en total en comparación con los programadores de América Latina.

Existe una diferencia de 4 años en el tercer cuartíl de ambas regiones; es decir, el 75% de los programadores estadounidenses cuentan a los mucho con 15 años programando profesionalmente y los latinoamericanos con 11 años.

**Programadores latinoamericanos**

```{r, warning=FALSE}
round(quantile(as.numeric(DF_LC$YearsCodePro), na.rm = TRUE), 2)
```

**Programadores estadounidenses**

```{r, warning=FALSE}
round(quantile(as.numeric(DF_USA$YearsCodePro), na.rm = TRUE),2)
```

### Grado educativo

```{r, warning=FALSE}
tableUSA <- table(DF_USA$EdLevel)
tableUSA <- prop.table(tableUSA)
tableUSA
names <- c("GA", "L", "NCE", "M", "OD", "EP", "TP", "ES", "ST")

tableLC <- table(DF_LC$EdLevel)
tableLC <- prop.table(tableLC)
tableLC

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(6, 2))
par(mai=rep(0.4, 4))

barplot(tableUSA, las=2, names.arg=names, main='Grados educativos en Estados Unidos', xlab = "Grados educativos",  ylab = "Frecuencia relativa", col=c("skyblue","orange","red","beige","aliceblue","black","azure", "burlywood3", "cornflowerblue"),xlim=c(0,10), ylim = c(0, 0.6), cex.names=0.8)


barplot(tableLC, las=2, names.arg=names, main='Grados educativos en América Latina', xlab = "Grados educativos",  ylab = "Frecuencia relativa", col=c("skyblue","orange","red","beige","aliceblue","black","azure", "burlywood3", "cornflowerblue"),xlim=c(0,10), ylim = c(0, 0.6), cex.names=0.8)

#legend.text=c("Grado Asociado","Licenciatura", "Nunca Completé ninguna Educación formal", "Maestría", "Otro Doctorado", "Escuela Primaria", "Título Profesional", "Escuela Secundaria", "Estudios Superiores sin obtener un Título")

par(mai=c(0,0,0,0))
plot.new()
#legend(x="center", ncol=3,legend=c("Hombre","Otros","Mujer"),fill=c("skyblue","orange","red"))
legend(x="center", ncol=2, legend = c("Grado Asociado","Licenciatura", "Nunca Completé ninguna Educación formal", "Maestría", "Otro Doctorado", "Escuela Primaria", "Título Profesional", "Escuela Secundaria", "Estudios Superiores sin obtener un Título"), fill=c("skyblue","orange","red","beige","aliceblue","black","azure", "burlywood3", "cornflowerblue"))

```

Los gráficos de barras muestran que la mayoría de programadores tanto estadounidenses como latinoamericanos tienen licenciatura, si se compara, existe una mayor frecuencia relativa de programadores con licenciatura en Estados Unidos que en América Latina.

Por otro lado, en América Latina existe una mayor frecuencia relativa de programadores que no terminaron sus estudios universitarios en comparación con Estados Unidos.

Por ultimo podemos comprobar con la moda que el grado más común en ambas regiones es el de licenciatura

```{r}
mlv(DF_USA$EdLevel)
mlv(DF_LC$EdLevel)
```

### Tipo de empleo

```{r}
tableEmpleoUSA <- table(DF_USA$Employment)
tableEmpleoUSA <- prop.table(tableEmpleoUSA)
tableEmpleoUSA
namesEmpleo <- c("TC", "TP", "IA", "SEBT", "SEST", "R", "E")



tableEmpleoLC <- table(DF_LC$Employment)
tableEmpleoLC <- prop.table(tableEmpleoLC)
tableEmpleoLC

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(8, 2))
par(mai=rep(0.4, 4))

barplot(tableEmpleoUSA, las=1, names.arg=namesEmpleo, main='Empleos en Estados Unidos', xlab = "Tipo de empleo",  ylab = "Frecuencia relativa", col=c("skyblue","orange","red","beige","aliceblue","black","blue"),xlim=c(0,8), ylim = c(0, 1), cex.names=0.8)

barplot(tableEmpleoLC, las=1, names.arg=namesEmpleo, main='Empleos en América Latina', xlab = "Tipo de empleo",  ylab = "Frecuencia relativa", col=c("skyblue","orange","red","beige","aliceblue","black","blue"),xlim=c(0,8), ylim = c(0, 1),cex.names=0.8)

par(mai=c(0,0,0,0))
plot.new()
#legend(x="center", ncol=3,legend=c("Hombre","Otros","Mujer"),fill=c("skyblue","orange","red"))
legend(x="center", ncol=3, legend = c("Tiempo Completo","Tiempo Parcial", "Independiente, Autónomo", "Sin Empleo, Buscando Trabajo", "Sin Empleo, Sin buscar Trabajo", "Retirado", "Estudiante"), fill=c("skyblue","orange","red","beige","aliceblue","black","blue"))


```

Los gráficos de barras muestran que la mayoría de programadores tanto estadounidenses como latinoamericanos trabajan a tiempo completo, existe una mayor frecuencia relativa de programadores trabajando a tiempo completo en Estados Unidos que en América Latina..

También se puede observar que existe mayor frecuencia relativa de latinoamericanos trabajando a medio tiempo y de manera independiente que los estadounidenses.

### Satisfacción con empleo

```{r}
variables1 <- c(" ", " ", " ", " ", " ")
temp = DF_USA$JobSat[!is.na(DF_USA$JobSat)]
satis_vector_USA <- vector()
satis_vector_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    satis_vector_USA <- c(satis_vector_USA, sub_pal)
  }
}
temp = DF_LC$JobSat[!is.na(DF_LC$JobSat)]
satis_vector <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    satis_vector_LC <- c(satis_vector_LC, sub_pal)
  }
}

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(7, 1))
par(mai=rep(0.6, 4))


barplot(table(satis_vector_USA)/sum(table(satis_vector_USA)), main = "Estados Unidos", names.arg = variables1, col = c("blue","orange","yellow", "green", "red"), ylab ="Frecuencias Relativas")



barplot(table(satis_vector_LC)/sum(table(satis_vector_LC)), names.arg = variables1 , main = "América Latina", col = c("blue","orange","yellow", "green", "red"), ylab ="Frecuencias Relativas", ylim = c(0, 0.4))

par(mai=c(0,0,0,0))
plot.new()
legend(x="center", ncol=2,legend=c("Muy satisfecho","Algo satisfecho","Ni satisfecho ni insatisfecho", "Algo insatisfecho", "Muy insatisfecho"), fill=c("blue","orange","yellow", "green", "red"))
```

En la gráfica podemos ver que América Latina tiene un nivel de satisfacción mayor con su trabajo que Estado Unidos. Así mismo, en Estados Unidos el 48.18% de los encuestados estan insatisfechos con su empleo. Además, la mayoria de programadores en América Latina se encuentra ni satisfechos ni insatisfechos con su empleo. 

### Tamaño de organización en la que trabaja

```{r}
empleados_LC <- table(DF_LC$OrgSize)
empleados_LC <- empleados_LC[c(9, 5, 2, 6, 4, 8, 1, 7, 3)]
empleados_USA <- table(DF_USA$OrgSize)
empleados_USA <- empleados_USA[c(9, 5, 2, 6, 4, 8, 1, 7, 3)]
legend_text <- c("1000 a 4999 empleados","10 a 19 eempleados", "10000 o más empleados", "100 a 499 empleados", "2 a 9 empleados", "20 a 99 empleados", "5000 a 9999 empleados", "500 a 999 empleados", "Solo yo")
legend_text <- legend_text[c(9, 5, 2, 6, 4, 8, 1, 7, 3)]
color_LC <- c("red", "yellow", "pink", "blue", "green", "orange", "black", "purple", "gray")
variables <- c(" "," "," "," "," "," "," "," "," ")

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(7, 1))
par(mai=rep(0.4, 4))

barplot(empleados_LC/sum(empleados_LC), names.arg = variables, col = color_LC, ylab ="Frecuencias Relativas", , las=2, ylim=c(0,0.4), xlim = c(0, 10), main = "Tamaño de las organizaciones o empresas en América Latina", cex.main=0.8)

barplot(empleados_USA/sum(empleados_USA), names.arg = variables, col = color_LC, ylab ="Frecuencias Relativas", , las=2, ylim=c(0,0.4), xlim = c(0, 10), main = "Tamaño de las organizaciones o empresas en Estados Unidos", cex.main=0.8)

par(mai=c(0,0,0,0))
plot.new()
legend(x="center", ncol=3,legend=legend_text, fill=color_LC)
```

Según las gráficas de barras de Estados Unidos la mayoría de los encuestras labora en un entorno con 10000 o más empleados (frecuencia absoluta de 1915), asi mismo en América Latina la mayoría de encuestados labora en un entorno de 20 a 99 empleados.

### Horas trabajadas semanalmente

### 

```{r}
horas_LC <- table(DF_LC$WorkWeekHrs)
horas_USA <- table(DF_USA$WorkWeekHrs)


mean(DF_LC$WorkWeekHrs, na.rm = TRUE)
mean(DF_USA$WorkWeekHrs, na.rm = TRUE)

color = c("darkblue", "skyblue")
y_LC_median <- mean(DF_LC$WorkWeekHrs, na.rm = TRUE)
y_USA_median <- mean(DF_USA$WorkWeekHrs, na.rm = TRUE)

x_general <- c("Latino América", "Estados Unidos")
y_general <- c(y_LC_median, y_USA_median)

boxplot(DF_MIX$WorkWeekHrs~DF_MIX$Region, ylab = "Region", xlab = "Horas trabajadas por semana", notch = FALSE, horizontal = TRUE)


```

Según la gráfica, la media de horas que trabajan los encuestados por semana en América Latina es de 39 horas y en Estados Unidos es de 41.60. Sin embargo, si nos fijamos en que las medianas son iguales, esta diferencia no es estadísticamente significativa, por lo que podemos concluir que las horas de trabajo semanales no tienen relacion con la región.

### Frecuencia de horas extra en el trabajo

```{r}

layout(matrix(c(1,2,3,3), nrow=2,byrow=TRUE), heights=c(3, 1))
m<-prop.table(table(DF_LC$NEWOvertime[!is.na(DF_LC$NEWOvertime)]))*100
colors<-c('blue','yellow','green','orange','brown')
b1<-barplot(m, xlab='Frecuencia',ylab = "Porcentaje(%)", main='Frecuencia de horas extra\nLatinoamérica', width = 5, col.lab="darkgreen",names.arg=c("Nunca","Ocasionalmente","A menudo","Rara vez","A veces"),beside=TRUE,
col=colors,cex.names=0.8, ylim = c(0,30))
text(b1, m-1, labels = round(m,2))



n<-prop.table(table(DF_USA$NEWOvertime[!is.na(DF_USA$NEWOvertime)]))*100
b2<-barplot(n, xlab='Frecuencia',ylab = "Porcentaje(%)", main='Frecuencia de horas extra\nEstados Unidos', width = 5, col.lab="darkgreen",names.arg=c("Nunca","Ocasionalmente","A menudo","Rara vez","A veces"),
col=colors,cex.names=0.8, ylim = c(0,30))
text(b2, n-1, labels = round(n,2))
 
par(mai=c(0,0,0,0))
plot.new()
legend(x="center", legend = c("Nunca", "Ocasionalmente: 1-2 días por trimestre pero menos que al mes", "A menudo: 1-2 días por semana o más", "Rara vez: 1-2 días al año o menos", "A veces: 1-2 días al mes pero menos de una semana"), fill=colors,ncol=1)
```

Gracias a estos gráficos sabemos que en América Latina el 26.05% de empleados trabaja horas extra a menudo(de 1 a mas días a la semana) y el 27.71% a veces(1 o 2 dos días al mes). En Estados Unidos, las 2 respuestas mas votadas son "A veces" y "Ocasionalmente(1o 2 días por trimestre)", con 26.35% y 25.71% cada una. También podemos observar que la variable "Nunca" tiene mayor porcentaje en Estados Unidos. Todo esto nos dice claramente que en América Latina los desarrolladores trabajan mas horas extra a comparación de Estados Unidos, y esto podría deberse a un mejor entorno laboral.

#### proceso de incorporación

```{r}
layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(6, 1))
x_lc_s<-length(which(DF_LC$NEWOnboardGood=="Yes"))
x_lc_n<-length(which(DF_LC$NEWOnboardGood=="No"))
x_lc_m<-length(which(DF_LC$NEWOnboardGood=="Onboarding? What onboarding?"))
tot_x<-(sum(!is.na(DF_LC$NEWOnboardGood)))
x_lc_s<-round(x_lc_s*100/tot_x,2)
x_lc_n<-round(x_lc_n*100/tot_x,2)
x_lc_m<-round(x_lc_m*100/tot_x,2)
porc_lc<-c(x_lc_s,x_lc_n,x_lc_m)
x_lc_s<-length(which(DF_USA$NEWOnboardGood=="Yes"))
x_lc_n<-length(which(DF_USA$NEWOnboardGood=="No"))
x_lc_m<-length(which(DF_USA$NEWOnboardGood=="Onboarding? What onboarding?"))
tot_x<-(sum(!is.na(DF_USA$NEWOnboardGood)))
x_lc_s<-round(x_lc_s*100/tot_x,2)
x_lc_n<-round(x_lc_n*100/tot_x,2)
x_lc_m<-round(x_lc_m*100/tot_x,2)
porc_usa<-c(x_lc_s,x_lc_n,x_lc_m)
label<-paste(porc_lc,"%",sep=" ")

color<-c("yellow", "blue", "cadetblue")
pie(porc_lc, labels = label, clockwise=TRUE, main="America Latina",col=color)
label<-paste(porc_usa,"%",sep=" ")
pie(porc_usa, labels = label, clockwise=TRUE, main="Estados Unidos",col=color)
par(mai=c(0,0,0,0))
plot.new()
legend(x="center",c("Si","No","No Se"), fill=color,ncol=3)
```

En general, tanto en America Latina como en Estados Unidos, las empresas tienen un buen proceso de incorporación(no todas), pero es ligeramente mejor en Estados Unidos, lo que implica que en America Latina existen mas empresas con un mal proceso de incorporación. Los programadores mas jovenes en su mayoria respondieron a estas preguntas, debido a que suelen incorporarse a esa edad a las empresas o se encargan tambien de incorporar gente nueva.

### Situación de empleo

```{r}

layout(matrix(c(1,2,3,3), nrow=2,byrow=TRUE), heights=c(3, 1))
m<-prop.table(table(DF_LC$JobSeek[!is.na(DF_LC$JobSeek)]))*100
n<-prop.table(table(DF_USA$JobSeek[!is.na(DF_USA$JobSeek)]))*100
et<-c("Estoy buscando activamente un trabajo","No estoy interesado en nuevas oportunidades de trabajo", "No estoy buscando activamente, pero estoy abierto a nuevas oportunidades" )
ar<-c("busco","no busco", "no busco/\ndisponible")
colors<-c('blue','yellow','green')
c1<-barplot(m,xlab='Frecuencia', ylab = "Porcentaje(%)", main='Situacion de Empleo\nAmerica Latina', width = 5, col.lab="darkgreen",names.arg=ar,
col=colors,cex.names=0.8, ylim = c(0,70))
text(c1, m-2, labels = round(m,2))




c2<-barplot(n, xlab='Frecuencia',ylab = "Porcentaje(%)", main='Situacion de Empleo\nEstados Unidos', width = 5, col.lab="darkgreen",
col=colors,cex.names=0.8,names.arg=ar, ylim = c(0,70))
text(c2, n-2, labels = round(n,2))
 
par(mai=c(0,0,0,0))
plot.new()
legend(x="center", legend = et, fill=colors,ncol=1)


```

```{r, warning=FALSE}
par()
boxplot(as.numeric(DF_LC$Age)~DF_LC$JobSeek, na.rm= TRUE, xlab = "Situación Laboral", ylab = "Años", cex.names=0.2, main="Situacion de empleo por edad\nAmerica Latina", names=c("busco","no busco", "no busco/\ndisponible"))

boxplot(as.numeric(DF_USA$Age)~DF_USA$JobSeek, na.rm= TRUE, xlab = "Situación Laboral", ylab = "Años", cex.names=0.2, main="Situacion de empleo por edad\nEstados Unidos", names=c("busco","no busco", "no busco/\ndisponible"))
```

En base a estos graficos podemos ver que la cantidad de programadores que buscan empleo es mayor en america latina, y la cantidad de programadores que no buscan empleo es mucho mayor en Estados Unidos. Esto puede deberese a que hay mayor disponibilidad de trabajos en Estados Unidos que en America Latina y tambien que los desarroladores en Estados Unidos ya tienen estabilidad laboral.

Ademas, podemos observar que en America Latina los desarrolladores buscan empleo desde aproximadamente la misa edad que en Estados Unidos, sin embargo en latinoamerica la edad de las personas que buscan suele ser menor a Estados Unidos.

### Lenguajes con los que trabajó

```{r}
temp = DF_USA$LanguageWorkedWith[!is.na(DF_USA$LanguageWorkedWith)]
LWW_vec_USA <- vector() #LWW(languageWorkedWith)
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    LWW_vec_USA <- c(LWW_vec_USA, sub_pal)
  }
}
temp = DF_LC$LanguageWorkedWith[!is.na(DF_LC$LanguageWorkedWith)]
LWW_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    LWW_vec_LC <- c(LWW_vec_LC, sub_pal)
  }
}
#USA
tabla_LWW_USA_F <- table(LWW_vec_USA)
tabla_LWW_USA_FR <- prop.table(tabla_LWW_USA_F)
tabla_LWW_USA_o <- data.frame(names(tabla_LWW_USA_F), as.vector(tabla_LWW_USA_F), as.vector(tabla_LWW_USA_FR))

names(tabla_LWW_USA_o) <- c('lenguajes','Frecuencia', 'Frencuencia Relativa')

tabla_LWW_USA_o

tabla_LWW_USA_or <- tabla_LWW_USA_o[order(tabla_LWW_USA_o$`Frencuencia Relativa`,decreasing = TRUE), ]

barplot(tabla_LWW_USA_or$`Frencuencia Relativa`, names.arg = tabla_LWW_USA_or$lenguajes, main = "Estados Unidos", ylab = 'frecuencias relativas', las=2, font.lab = 4,  cex.names = 0.7)

#LC
tabla_LWW_LC_F <- table(LWW_vec_LC)
tabla_LWW_LC_FR <- prop.table(tabla_LWW_LC_F)
tabla_LWW_LC_o <- data.frame(names(tabla_LWW_LC_F), as.vector(tabla_LWW_LC_F), as.vector(tabla_LWW_LC_FR))

names(tabla_LWW_LC_o) <- c('lenguajes','Frecuencia', 'Frencuencia Relativa')

tabla_LWW_LC_o

tabla_LWW_LC_or <- tabla_LWW_LC_o[order(tabla_LWW_LC_o$`Frencuencia Relativa`,decreasing = TRUE), ]

barplot(tabla_LWW_LC_or$`Frencuencia Relativa`, names.arg = tabla_LWW_LC_or$lenguajes, main = "América Latina", ylab = 'frecuencias relativas', las=2, font.lab = 4, cex.names = 0.7)
```

Se destaca que entre los lenguajes más usados tanto en US como en LC son JavaScript, HTML/CSS,SQL. Es importante resaltar que en US hay un mayor uso de Python que en LC.

#### Frecuencia de aprendizaje de un nuevo lenguaje

```{r}
#usa
temp = DF_USA$NEWLearn[!is.na(DF_USA$NEWLearn)]
tabla_NEWLearn_USA = table(temp)
tabla_NEWLearn_USA = prop.table(tabla_NEWLearn_USA)
tabla_NEWLearn_USA
barplot(tabla_NEWLearn_USA, xlab = 'Tiempo de aprendizaje', ylab = 'Frecuencias Relativas', col=c("skyblue","orange","red","beige"), las=1, ylim = c(0,0.5))
#LC
temp2 = DF_LC$NEWLearn[!is.na(DF_LC$NEWLearn)]
tabla_NEWLearn_LC = table(temp2)
tabla_NEWLearn_LC = prop.table(tabla_NEWLearn_LC)
tabla_NEWLearn_LC
barplot(tabla_NEWLearn_LC, xlab = 'Tiempo de aprendizaje', ylab = 'Frecuencias Relativas', col=c("skyblue","orange","red","beige"),las=1, ylim = c(0,0.5))

```

Se observa que en US la mayoría de programadores aprenden un nuevo lenguaje cada un año, seguido de pocos meses, mientras que en LC la mayoría aprenden un nuevo lenguaje cada pocos meses, seguido de un año. 

#### Plataformas con las que se trabajó

```{r}
temp = DF_USA$PlatformWorkedWith[!is.na(DF_USA$PlatformWorkedWith)]
PWW_vec_USA <- vector() #PWW(PlataformWorkedWith)
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    PWW_vec_USA <- c(PWW_vec_USA, sub_pal)
  }
}
temp = DF_LC$PlatformWorkedWith[!is.na(DF_LC$PlatformWorkedWith)]
PWW_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    PWW_vec_LC <- c(PWW_vec_LC, sub_pal)
  }
}

#USA
tabla_PWW_USA_F <- table(PWW_vec_USA)
tabla_PWW_USA_FR <- prop.table(tabla_PWW_USA_F)
tabla_PWW_USA_o <- data.frame(names(tabla_PWW_USA_F), as.vector(tabla_PWW_USA_F), as.vector(tabla_PWW_USA_FR))

names(tabla_PWW_USA_o) <- c('PlataformasSO','Frecuencia', 'Frencuencia Relativa')

tabla_PWW_USA_o

tabla_PWW_USA_or <- tabla_PWW_USA_o[order(tabla_PWW_USA_o$`Frencuencia Relativa`,decreasing = TRUE), ]

barplot(tabla_PWW_USA_or$`Frencuencia Relativa`, names.arg = tabla_PWW_USA_or$PlataformasSO, main = "Estados Unidos", ylab = 'frecuencias relativas', las=2, font.lab = 4, cex.names = 0.39)

#LC
tabla_PWW_LC_F <- table(PWW_vec_LC)
tabla_PWW_LC_FR <- prop.table(tabla_PWW_LC_F)
tabla_PWW_LC_o <- data.frame(names(tabla_PWW_LC_F), as.vector(tabla_PWW_LC_F), as.vector(tabla_PWW_LC_FR))

names(tabla_PWW_LC_o) <- c('PlataformasSO','Frecuencia', 'Frencuencia Relativa')

tabla_PWW_LC_o

tabla_PWW_LC_or <- tabla_PWW_LC_o[order(tabla_PWW_LC_o$`Frencuencia Relativa`,decreasing = TRUE), ]


barplot(tabla_PWW_LC_or$`Frencuencia Relativa`, names.arg = tabla_PWW_LC_or$PlataformasSO, ylab = 'frecuencias relativas', las=2, font.lab = 4, main = "América Latina", cex.names = 0.39)
```
Se observa que en tanto en USA como en Latinoamérica la plataforma más usada es Linux, seguido de Windows, no obstante, en general, hay un uso distribuido en cuanto la plataforma en los disitntos sistemas operativos.
