---
title: "R Notebook"
output:
  html_document:
    df_print: paged
---

# Programadores profesionales

## Las diferencias en el aspecto educativo y laboral entre programadores de Estados Unidos y de América Latina

### Integrantes

-   Luis Berrospi *(lider)*

-   Bryan Castillo

-   Luis Robledo

-   Jorge Collazos

-   Nincol Quiroz

### Introducción

Son muchas las personas que se dedican profesionalmente a programar en todo el mundo. Sin embargo, las características de estas y el contexto en el que viven no son iguales. Tenemos la hipótesis de que el lugar de procedencia influye bastante en la situación tanto laboral como educativa de los programadores profesionales, por lo que decidimos realizar este análisis concentrándonos en lugares bastante distintos en desarrollo respecta, Latino América y Estados Unidos. Este estudio es importante porque lograremos observar si es que realmente existen estas diferencias. Además, si las hay, podremos identificar donde es que se encuentran para poder sugerir que es lo que una región esta haciendo mejor o peor que la otra y se pueda encontrar una solución al verdadero problema.

### Objetivos

Queremos responder las siguientes preguntas:

-   ¿Existen diferencias en el aspecto educativo y laboral entre programadores profesionales de América Latina y de Estados Unidos?

-   ¿Cual es el nivel de estas diferencias?¿Cuales son las más pronunciadas?

-   ¿Que variables no varían entre regiones?

### Marco teórico

-   Población objetivo

-   Unidades muestrales

-   Base de Datos

```{r echo=FALSE, paged.print=FALSE, results=FALSE}
library(readr)
library(dplyr)
library(countrycode)
df <- read_csv("survey_results_public.csv")
df <- df[!(df$Age == "1" &  !is.na(df$Age)),]
df <- df[!(df$Age == "10" &  !is.na(df$Age)),]
df <- df[!(df$Age == "99" &  !is.na(df$Age)),]

```

```{r, warning=FALSE}
DFF <- select(df, MainBranch, Country,Gender,Age, YearsCode, YearsCodePro ,EdLevel,Employment, JobSat, OrgSize, WorkWeekHrs, NEWOvertime, NEWOnboardGood, JobSeek, NEWLearn, LanguageWorkedWith,PlatformWorkedWith)
DF_USA <- DFF[DFF$Country == "United States" & !is.na(DFF$Country) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][3:17]
DF_LC <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_LC <- DF_LC[DF_LC$region == "Latin America & Caribbean" & !is.na(DF_LC$region) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][, 4:18]
DF_MIX <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_MIX <- DF_MIX[((DF_MIX$region == "Latin America & Caribbean" & !is.na(DF_MIX$region)) | (DF_MIX$Country == "United States" & !is.na(DF_MIX$Country))) &  DF_MIX$MainBranch == "I am a developer by profession" & !is.na(DF_MIX$MainBranch), ][, 3:18]
DF_MIX$Country[DF_MIX$Country != "United States"] <- "América Latina"
DF_MIX$Country[DF_MIX$Country == "United States"] <- "Estados Unidos"
colnames(DF_MIX)[which(names(DF_MIX) == "Country")] <- "Region"
DF_MIX
```

#### **Tabla Descriptores**

+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Pregunta                                                                                                                                                                                                                                                                         | Variable                                                 | Tipo de Variable |
+==================================================================================================================================================================================================================================================================================+==========================================================+==================+
| Which of the following describe you, if any? Please check all that apply. If you prefer not to answer, you may leave this question blank.                                                                                                                                        | Genero                                                   | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| What is your age (in years)? If you prefer not to answer, you may leave this question blank.                                                                                                                                                                                     | Edad                                                     | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Including any education, how many years have you been coding in total?                                                                                                                                                                                                           | Años codeando                                            | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| NOT including education, how many years have you coded professionally (as a part of your work)?                                                                                                                                                                                  | Años codeando profesionalmente                           | Discreta         |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which of the following best describes the highest level of formal education that you’ve completed?                                                                                                                                                                               | Grado educativo                                          | Jerárquica       |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which of the following best describes your current employment status?                                                                                                                                                                                                            | Tipo de empleo                                           | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which programming, scripting, and markup languages have you done extensive development work in over the past year, and which do you want to work in over the next year? (If you both worked with the language and want to continue to do so, please check both boxes in that row | Lenguajes con los que se trabajo                         | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| How frequently do you learn a new language or framework?                                                                                                                                                                                                                         | Frecuencia de aprendizaje de un nuevo lenguaje/framework | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
| Which platforms have you done extensive development work in over the past year, and which do you want to work in over the next year? (If you both worked with the platform and want to continue to do so, please check both boxes in that row.)                                  | Plataformas con las que se trabajo                       | Nominal          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
|                                                                                                                                                                                                                                                                                  |                                                          |                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
|                                                                                                                                                                                                                                                                                  |                                                          |                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
|                                                                                                                                                                                                                                                                                  |                                                          |                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
|                                                                                                                                                                                                                                                                                  |                                                          |                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+
|                                                                                                                                                                                                                                                                                  |                                                          |                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------+------------------+

## Análisis de variables

### Genero

```{r}

temp = DF_USA$Gender[!is.na(DF_USA$Gender)]
gender_vec_USA <- vector()
gender_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    gender_vec_USA <- c(gender_vec_USA, sub_pal)
  }
}
temp = DF_LC$Gender[!is.na(DF_LC$Gender)]
gender_vec <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    gender_vec_LC <- c(gender_vec_LC, sub_pal)
  }
}

layout(matrix(c(1,2,3,3), ncol=2, byrow=TRUE), heights=c(6, 1))
par(mai=rep(0.5, 4))

temp = table(gender_vec_USA)
man <- round(temp[1]/length(gender_vec_USA)*100,2)
other <- round(temp[2]/length(gender_vec_USA)*100,2)
woman <- round(temp[3]/length(gender_vec_USA)*100,2)
pie(table(gender_vec_USA), main = "Estados Unidos", labels = c(paste(man, "%", sep = ""), paste(other, "%", sep = ""), paste(woman, "%", sep = "")), col = c("skyblue","orange","red"))
temp = table(gender_vec_LC)

man <- round(temp[1]/length(gender_vec_LC)*100,2)
other <- round(temp[2]/length(gender_vec_LC)*100,2)
woman <- round(temp[3]/length(gender_vec_LC)*100,2)
pie(table(gender_vec_LC), main = "América Latina", labels = c(paste(man, "%", sep = ""), paste(other, "%", sep = ""), paste(woman, "%", sep = "")), col = c("skyblue","orange","red"))
par(mai=c(0,0,0,0))
plot.new()
legend(x="center", ncol=3,legend=c("Hombre","Otros","Mujer"),
       fill=c("skyblue","orange","red"))

```

En el gráfico podemos ver como si bien, la proporción de mujeres que se dedican en Estados Unidos es el doble que la proporción en América Latina, en ambas regiones la brecha de genero es bastante grande lo que significa que la gran mayoría de los programadores profesionales son hombres

### Edad

```{r, warning=FALSE}
boxplot(DF_MIX$Age~DF_MIX$Region, na.rm= T, xlab = "Edad", ylab = "Region", notch=TRUE, horizontal = TRUE)
abline(v=mean(DF_USA$Age, na.rm = TRUE), col = "red", lwd=2)
abline(v=mean(DF_LC$Age, na.rm = TRUE), col = "blue",lwd=2)
legend(60,1.7,legend=c("media EEUU", "Media Latam"),col=c("red", "blue"),lwd=2)
```

Podemos observar que las edades de los programadores profesionales están más concentradas en América Latina comparando los rangos intercuartílicos:

```{r}
IQR(DF_LC$Age, na.rm = TRUE)
IQR(DF_USA$Age, na.rm = TRUE)
```

Además, la edad promedio de los programadores profesionales de América Latina es de 30.14 mientras que el de Estados Unidos es de 34.33,

```{r}
round(mean(DF_LC$Age, na.rm = TRUE), 2)
round(mean(DF_USA$Age, na.rm = TRUE),2)
```

Junto con las medianas y la forma de las cajas podemos sugerir que en general, si bien, la diferencia de las medianas son estadísticamente significativas, no es mucha diferencia de edad entre los programadores profesionales de ambos países

```{r}
round(median(DF_LC$Age, na.rm = TRUE), 2)
round(median(DF_USA$Age, na.rm = TRUE),2)
```

### Años Codeando

```{r, warning=FALSE}
boxplot(as.numeric(DF_MIX$YearsCode)~DF_MIX$Region, na.rm= TRUE, ylab = "Region", xlab = "Años Codeando", notch = TRUE, horizontal = TRUE)
abline(v=mean(as.numeric(DF_USA$YearsCode), na.rm = TRUE), col = "red")
abline(v=mean(as.numeric(DF_LC$YearsCode), na.rm = TRUE), col = "blue")
legend(25,1.7,legend=c("media EEUU", "media Latam"),col=c("red", "blue"),lwd=2)
```

En el diagrama de cajas y bigotes podemos ver como los programadores profesionales de Estados Unidos llevan mas años programando en total en comparación con los de América Latina. Sin embargo, esta diferencia es pequeña.

También, es importante destacar la gran diferencia de 6 años que existe entre el 3er cuartíl de ambas regiones. Esto implica que el 75% de los programadores profesionales de Estados Unidos cuentan a lo mucho con 22 años programando mientras que en América latina solo 16.

```{r, warning=FALSE}
round(quantile(as.numeric(DF_LC$YearsCode), na.rm = TRUE), 2)
round(quantile(as.numeric(DF_USA$YearsCode), na.rm = TRUE),2)
```

### Años codeado profesionalmente

```{r, warning=FALSE}
boxplot(as.numeric(DF_MIX$YearsCodePro)~DF_MIX$Region, na.rm= TRUE, ylab = "Region", xlab = "Años Codeando Profesionalmente", notch = TRUE, horizontal = TRUE)
abline(v=mean(as.numeric(DF_USA$YearsCodePro), na.rm = TRUE), col = "red")
abline(v=mean(as.numeric(DF_LC$YearsCodePro), na.rm = TRUE), col = "blue")
legend(25,1.7,legend=c("media EEUU", "media Latam"),col=c("red", "blue"),lwd=2)
```

En este diagrama de cajas y bigotes se observa que los programadores de Estados Unidos tienen más años programando profesionalmente en total en comparación con los programadores de América Latina.

Existe una diferencia de 4 años en el 3er cuartil de ambas regiones; es decir, el 75% de los programadores estadounidenses cuentan a los mucho con 15 años programando profesionalmente y los latinoamericanos con 11 años.

También existe una diferencia de 1 año el 4to cuartil. Esto implica que del 100% de programadores latinoamericanos al menos uno tiene un año más programando profesionalmente que el 100% de programadores estadounidenses.

#### Programadores latinoamericanos
```{r, warning=FALSE}
round(quantile(as.numeric(DF_LC$YearsCodePro), na.rm = TRUE), 2)
```

#### Programadores estadounidenses
```{r, warning=FALSE}
round(quantile(as.numeric(DF_USA$YearsCodePro), na.rm = TRUE),2)
```

### Grado educativo

```{r, warning=FALSE}
tableUSA <- table(DF_USA$EdLevel)
tableUSA <- prop.table(tableUSA)
tableUSA
names <- c("Associate degree", "Bachelor’s degree", "I never completed any formal education", "Master’s degree", "Other doctoral degree", "Primary/elementary school", "Professional degree", "Secondary school", "Some college/university study without earning a degree")
barplot(tableUSA, las=2, names.arg=names, main='Frecuencia relativa de grados educativos en Estados Unidos')

tableLC <- table(DF_LC$EdLevel)
tableLC <- prop.table(tableLC)
tableLC
barplot(tableLC, las=2, names.arg=names, main='Frecuencia relativa de grados educativos en América Latina')

```

Los gráficos de barras muestran que la mayoría de programadores tanto estadounidenses como latinoamericanos tienen licenciatura (Bachelor’s degree), si se compara, existe una mayor frecuencia relativa de programadores con licenciatura en Estados Unidos que en América Latina. 

Por otro lado, en América Latina existe una mayor frecuencia relativa de programadores que no terminaron sus estudios universitarios en comparación con Estados Unidos.

### Tipo de empleo

```{r}
tableEmpleoUSA <- table(DF_USA$Employment)
tableEmpleoUSA <- prop.table(tableEmpleoUSA)
tableEmpleoUSA
barplot(tableEmpleoUSA, las=2, main='Frecuencia relativa de el tipo de trabajo en Estados Unidos')

tableEmpleoLC <- table(DF_LC$Employment)
tableEmpleoLC <- prop.table(tableEmpleoLC)
tableEmpleoLC
barplot(tableEmpleoLC, las=2, main='Frecuencia relativa de el tipo de trabajo en América Latina')
```

Los gráficos de barras muestran que la mayoría de programadores tanto estadounidenses como latinoamericanos trabajan a tiempo completo, existe una mayor frecuencia relativa de programadores trabajando a tiempo completo en Estados Unidos que en América Latina.. 

También se puede observar que existe mayor frecuencia relativa de latinoamericanos trabajando a medio tiempo y de manera independiente que los estadounidenses.

### Satisfacción con empleo

### Tamaño de organizacion en la que trabaja

### Horas trabajadas semanalmente

### Frecuencia de horas extra en el 

### Lenguajes con los que trabajó
```{r}
temp = DF_USA$LanguageWorkedWith[!is.na(DF_USA$LanguageWorkedWith)]
LWW_vec_USA <- vector() #LWW(languageWorkedWith)
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    LWW_vec_USA <- c(LWW_vec_USA, sub_pal)
  }
}
temp = DF_LC$LanguageWorkedWith[!is.na(DF_LC$LanguageWorkedWith)]
LWW_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    LWW_vec_LC <- c(LWW_vec_LC, sub_pal)
  }
}
#USA
tabla_LWW_USA <- table(LWW_vec_USA)
tabla_LWW_USA <- prop.table(tabla_LWW_USA)
tabla_LWW_USA

barplot(tabla_LWW_USA, xlab = 'lenguajes de programación', ylab = 'frecuencias relativas', las=2, col=c("skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige"))

#LC
tabla_LWW_LC <- table(LWW_vec_LC)
tabla_LWW_LC <- prop.table(tabla_LWW_LC)
tabla_LWW_LC

barplot(tabla_LWW_LC, xlab = 'lenguajes de programación', ylab = 'frecuencias relativas', las=2, col=c("skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige"))
```
Se destaca que entre los lenguajes más usados tanto en US como en LC son JavaScript, HTML/CSS,SQL. Es importante resaltar que en US hay un mayor uso de Python que en LC.
### Frecuencia de aprendizaje de un nuevo lenguaje

```{r}
#usa
temp = DF_USA$NEWLearn[!is.na(DF_USA$NEWLearn)]
tabla_NEWLearn_USA = table(temp)
tabla_NEWLearn_USA = prop.table(tabla_NEWLearn_USA)
tabla_NEWLearn_USA
barplot(tabla_NEWLearn_USA, xlab = 'Tiempo de aprendizaje', ylab = 'Frecuencias Relativas', las=2, col=c("skyblue","orange","red","beige"))
#LC
temp2 = DF_LC$NEWLearn[!is.na(DF_LC$NEWLearn)]
tabla_NEWLearn_LC = table(temp2)
tabla_NEWLearn_LC = prop.table(tabla_NEWLearn_LC)
tabla_NEWLearn_LC
barplot(tabla_NEWLearn_LC, xlab = 'Tiempo de aprendizaje', ylab = 'Frecuencias Relativas', las=2, col=c("skyblue","orange","red","beige"))

```
Se observa que en US la mayoría de programadores aprenden un nuevo lenguaje cada un año, seguido de pocos meses, mientras que en LC la mayoría aprenden un nuevo lenguaje cada pocos meses, seguido de un año.
### Plataformas con las que se trabajó
```{r}
temp = DF_USA$PlatformWorkedWith[!is.na(DF_USA$PlatformWorkedWith)]
PWW_vec_USA <- vector() #PWW(PlataformWorkedWith)
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    PWW_vec_USA <- c(PWW_vec_USA, sub_pal)
  }
}
temp = DF_LC$PlatformWorkedWith[!is.na(DF_LC$PlatformWorkedWith)]
PWW_vec_LC <- vector()
for (pal in temp) {
  for (sub_pal in strsplit(pal, ";")) {
    PWW_vec_LC <- c(PWW_vec_LC, sub_pal)
  }
}

#USA
tabla_PWW_USA <- table(PWW_vec_USA)
tabla_PWW_USA <- prop.table(tabla_PWW_USA)
tabla_PWW_USA

barplot(tabla_PWW_USA, xlab = 'Plataformas', ylab = 'frecuencias relativas', las=2, col=c("skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red"))

#LC
tabla_PWW_LC <- table(PWW_vec_LC)
tabla_PWW_LC <- prop.table(tabla_PWW_LC)
tabla_PWW_LC

barplot(tabla_PWW_LC, xlab = 'Plataformas', ylab = 'frecuencias relativas', las=2, col=c("skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red","beige","aliceblue","aquamarine","azure","skyblue","orange","red"))
```
Se observa que en tanto en USA como en LC la plataforma más usada es Linux, no obstante, en general, hay un uso distribudio en cuanto la plataforma en los disitntos sistemas operativos.
