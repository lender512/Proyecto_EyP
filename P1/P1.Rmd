---
title: "R Notebook"
output:
  html_document:
    df_print: paged
---

```{r}
library(readr)
library(dplyr)
library(countrycode)
df <- read_csv("survey_results_public.csv")

```

```{r}
DFF <- select(df, MainBranch, Country,Gender,Age, YearsCode, YearsCodePro ,EdLevel,Employment, JobSat, OrgSize, WorkWeekHrs, NEWOvertime, NEWOnboardGood, JobSeek, NEWLearn, LanguageWorkedWith,PlatformWorkedWith)
DF_USA <- DFF[DFF$Country == "United States" & !is.na(DFF$Country) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][3:17]
DF_LC <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_LC <- DF_LC[DF_LC$region == "Latin America & Caribbean" & !is.na(DF_LC$region) & DFF$MainBranch == "I am a developer by profession" & !is.na(DFF$MainBranch), ][, 4:18]
DF_MIX <- cbind(region = as.character(countrycode(sourcevar = DFF$Country,
                            origin = "country.name",
                            destination = "region")), DFF)
DF_MIX <- DF_MIX[((DF_MIX$region == "Latin America & Caribbean" & !is.na(DF_MIX$region)) | (DF_MIX$Country == "United States" & !is.na(DF_MIX$Country))) &  DF_MIX$MainBranch == "I am a developer by profession" & !is.na(DF_MIX$MainBranch), ][, 3:18]
DF_MIX$Country[DF_MIX$Country != "United States"] <- "América Latina"
DF_MIX$Country[DF_MIX$Country == "United States"] <- "Estados Unidos"
colnames(DF_MIX)[which(names(DF_MIX) == "Country")] <- "Region"
DF_MIX
```

## **Tabla Descriptores**

+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
| Pregunta                                                                                                                                  | Variable      | Tipo de Variable |
+===========================================================================================================================================+===============+==================+
| Which of the following describe you, if any? Please check all that apply. If you prefer not to answer, you may leave this question blank. | Genero        | Nominal          |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
| What is your age (in years)? If you prefer not to answer, you may leave this question blank.                                              | Edad          | Discreta         |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
| Including any education, how many years have you been coding in total?                                                                    | Años codeando | Discreta         |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+
|                                                                                                                                           |               |                  |
+-------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------------+

## Análisis de variables

### Genero

```{r}

#(strsplit(DF_USA$Gender, ";"))

#pie(DF_USA$Gender, na.rm = T)
```

### Edad

```{r, warning=FALSE}
boxplot(DF_MIX$Age~DF_MIX$Region, na.rm= T, xlab = "Region", ylab = "Edad")
abline(h=mean(DF_USA$Age, na.rm = TRUE), col = "red", lwd=2)
abline(h=mean(DF_LC$Age, na.rm = TRUE), col = "blue",lwd=2)
legend(1.2,100,legend=c("media EEUU", "Media SyC"),col=c("red", "blue"),lwd=2)
```

Podemos observar que las edades de los programadores profesionales están más concentradas en América Latina y el Caribe comparando los rangos intercuartílicos:

```{r}
IQR(DF_LC$Age, na.rm = TRUE)
IQR(DF_USA$Age, na.rm = TRUE)
```

Además, la edad promedio de los programadores profesionales de América Latina es de 30.14 mientras que el de Estados Unidos es de 34.33,

```{r}
round(mean(DF_LC$Age, na.rm = TRUE), 2)
round(mean(DF_USA$Age, na.rm = TRUE),2)
```

Junto con las medianas podemos concluir que en general, los programadores profesiones de Estados Unidos son mayores que que los de América Latina.

```{r}
round(median(DF_LC$Age, na.rm = TRUE), 2)
round(median(DF_USA$Age, na.rm = TRUE),2)
```

### Años Codeado

```{r, warning=FALSE}
boxplot(as.numeric(DF_MIX$YearsCode)~DF_MIX$Region, na.rm= TRUE, xlab = "Region", ylab = "Años Codeando")
abline(h=mean(as.numeric(DF_USA$YearsCode), na.rm = TRUE), col = "red")
abline(h=mean(as.numeric(DF_LC$YearsCode), na.rm = TRUE), col = "blue")
legend(1.1,50,legend=c("media EEUU", "Media SyC"),col=c("red", "blue"),lwd=2)
```

En el diagrama de cajas y bigotes podemos ver como los programadores profesionales de Estados Unidos llevan mas años programando en total en comparación con los de América Latina.

También, es importante destacar la gran diferencia de 6 años que existe entre el 3er cuartíl de ambas regiones. Esto implica que el 75% de los programadores profesionales de Estados Unidos cuentan a lo mucho con 22 años programando mientras que en América latina solo 16.

```{r, warning=FALSE}
round(quantile(as.numeric(DF_LC$YearsCode), na.rm = TRUE), 2)
round(quantile(as.numeric(DF_USA$YearsCode), na.rm = TRUE),2)
```

### Años codeado profesionalmente

### Grado educativo

### Tipo de empleo

### Satisfacción con empleo

### Tamaño de organizacion en la que trabaja

### Horas trabajadas semanalmente

### Frecuencia de horas extra en el trabajo
